Release migrating to the latest versions of underlying libraries, adding full HTTP/REST support and other new components, and improving performance and high availability capabilities.
# New features
- Added support for dynamic URIs and mapping of SOAP headers to the web service components.
- Added XPath filter: a filter implementation that accepts or rejects XML messages based on evaluation of an XPath expression.
- Added support for specifying property values using Mendix project constants (in addition to the existing options for .properties files, Java system properties, etc), which is used as follows:
-- in your Mendix project, fill the constant EMagiz_Runtime.PropertySourceModuleNames with the name(s) of the Mendix module(s) you want to search when resolving property values
-- in one of those modules, create a constant with the same name as the property in your eMagiz configuration (replace any character that is illegal in a Mendix constant name with an underscore, e.g. my.example.property becomes my_example_property)
-- give the constant the correct value for the environment you're running in (during development this is done in the Mendix modeler, when deploying in the Mendix cloud use the Mendix Cloud Portal, when deploying on Windows use the Mendix Service Console and when deploying on Linux edit the .yaml file)
- Added explicit support for caching and reusing of FTP(S) sessions, see the new default FTP caching session factory and default FTPS caching session factory support objects.
- Added recipient list router: a router implementation that sends incoming messages to a statically defined list of channels.
- Added support for creating clusters of HornetQ servers that share message processing load and for clients that connect with these clusters.
- Added support for simple username/password authentication when connecting to a HornetQ server.
- Added support for caching of JMS resources (connections, sessions, message producers and consumers), improving the performance on the client side of a JMS connection.
- Added FileDocument WS request transformer: a transformer implementation for creating web service requests that send the message payload to Mendix as a System.FileDocument object. This can be used as a workaround for a "contract first" web service in Mendix 3.0+; in previous Mendix versions this could be achieved using the pass payload as path property of the Microflow invoking message consumer, but in Mendix 3.0+ this no longer works.
- Added HTTP outbound gateway, HTTP outbound channel adapter and HTTP inbound channel adapter: together with the updated HTTP inbound gateway these components add full HTTP support (including RESTful web services).
- Added Mendix authentication SOAP header mapper: a header mapper implementation that can be used for 'proxying' Mendix authentication credentials from an eMagiz web service to a Mendix web service.
- New version of the flow designer widget added (PaaS): it is now possible to not just view your flows, but also design them using a graphical editor.
# Minor changes
- Library updates
-- Update to Spring Integration 2.1.0
-- Update to Spring Framework 3.1.1
-- Update to HornetQ 2.2.5
-- Update to Netty 3.2.3
-- Update to Jackson 1.9.5
-- Update to Spring Web Services 2.0.4
-- Update to Saxon 9.3.0.11
-- Update to Joda Time 2.1.0
-- Update to SLF4J 1.6.4
-- Update to Jetty 7.5.4
- Changes in advanced settings of all routers:
-- property ignore channel name resolution failures removed; its behaviour is consolidated with the resolution required property, which is now true by default
-- new property ignore send failures added
-- new property timeout added
-- new property apply sequence added
- Changes in advanced settings of JMS outbound channel adapter:
-- new property destination expression added
- Changes in advanced settings of JMS message driven channel adapter:
-- new property subscription durable added
-- new property durable subscription name added
-- new property client id added
- Changes in advanced settings of web service outbound gateway:
-- new property mapped request headers added
-- new property mapped reply headers added
-- new property uri variables added
-- new property header mapper added
- Changes in advanced settings of web service inbound gateway:
-- new property mapped request headers added
-- new property mapped reply headers added
-- new property reply timeout added
-- new property header mapper added
- Changes in advanced settings of TCP inbound channel adapter, TCP inbound gateway and TCP outbound channel adapter:
-- new property client mode added
-- new property retry interval added
- Changes in advanced settings of TCP connection factory:
-- new property apply sequence added
- Changes in advanced settings of FTP outbound channel adapter:
-- property cache sessions removed; caching is now achieved by using a caching session factory
-- new property remote directory expression added
-- new property remote filename generator expression added
-- new property auto create directory added
-- new property temporary remote directory added
-- new property temporary remote directory added new property temporary remote directory expression added
- Changes in advanced settings of FTP inbound channel adapter:
-- property cache sessions removed; caching is now achieved by using a caching session factory
-- new property local filename generator expression added
- Changes in advanced settings of logging channel adaper:
-- new property logger name added
-- new property expression added
- Changes in advanced settings of the reply channel and error channel headers of standard header enricher:
-- new property expression added
- Changes in advanced settings of property placeholder:
-- property system-properties-mode removed in favour of the new (in Spring 3.1) Environment/PropertySource mechanisms
- Changes in advanced settings of default FTPS session factory:
-- new property protocol added
-- new property implicit added
-- new property session creation added
-- new property use client mode added
-- new property need client auth added
-- new property wants client auth added
-- new property auth value added
-- new property cipher suites added
-- new property prot added
-- new property protocols added
- Changes in advanced settings of HornetQ bridge configuration:
-- property failover on server shutdown removed
-- new property HA added
-- properties connector name and backup connector name removed and replaced by new property static connectors
- Changes in advanced settings of HornetQ configuration:
-- default value of property shared store is now true
-- property backup connector name removed and replaced by new property live connector name
-- new property allow auto failback added
-- new property failover delay added
-- new property failover on server shutdown added
-- new property cluster connection configurations added
- Changes in advanced settings of HornetQ address settings:
-- new property page cache max size added
- Changes in advanced settings of HornetQ JMS configuration:
-- new property JMX domain added
- Changes in (advanced) settings of HornetQ JMS connection factory:
-- new properties signature and XA added; together these properties determine the JMS connection factory type that is created
-- properties connector and backup connector removed and replaced by new property initial servers
-- new property compress large messages added
-- new property initial connect attemps added
-- property failover on server shutdown removed
- Changes in (advanced) settings of HTTP inbound gateway:
-- property view name is now optional instead of being required
-- new properties request timeout and reply timeout added
-- new properties mapped request headers and mapped response headers added
-- new property payload expression added
-- new property path added
-- new property convert exceptions added
-- new property request payload type added
-- support added for defining custom headers containing information about the original HTTP request or the request URL
- Application vendor changed from Iris Enterprise Messaging B.V. to eMagiz B.V.
- Changed all multi-selections (eMagiz PaaS) to new Ctrl+click behaviour.
# Bug fixes
- nullChannel is now correctly classified as a pollable channel by the design time (#12215) (##12215)
- solved an issue with conflicting libraries that could cause Mendix 3.1+ to throw a ClassNotFoundException when calling a web service in a project that also contains the eMagiz runtime module
- fixed highlighting (flow designer) of XPath header enricher when one of the referenced XPath expressions is selected (#11761) (##11761)
- global wire taps and global channel interceptors are now visually connected (flow designer) if multiple channel patterns are used (#15663) (##15663)
- global tracking interceptors now contain the correct context ID, just like the non-global ones
# Known issues
- Using property mapped request headers or mapped reply headers of web service inbound gateway causes errors when trying to load the configuration: this issue is fixed in the next Spring Integration release.
