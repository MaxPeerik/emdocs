---
id: jdbc-outbound-channel-adapter
title: JDBC outbound channel adapter
sidebar_label: JDBC outbound channel adapter
---
#### Sends messages to a database using an SQL query.
<a href="http://docs.spring.io/spring-integration/docs/2.2.x/reference/html/jdbc.html#jdbc-outbound-channel-adapter" target="_blank">Documentation</a>

Executes an SQL query for each incoming message. The message payload and headers are available by as input parameters to the query.

#### SQL data source
Reference to a JDBC data source, usually including some form of connection pooling, used for accessing the database.

<i>Required</i>

#### Query
An SQL query to execute when a message is received; usually an INSERT, UPDATE or DELETE query.

If the database logic is too complex to express using a single query, consider using a <i>JDBC stored procedure outbound channel adapter</i> instead. If the query result should be returned as a message, you'd probably want to use a <i>JDBC outbound gateway</i>.

Note that you can use the message payload and headers from the input message as parameters in the query by using the colon prefix notation.

Example of a query using header and payload values from the input message:
<code>INSERT INTO mytable (id, createddate, contents) values (:headers[id], :headers[timestamp], :payload)</code>

<i>Required</i>

#### Keys generated
Flag to indicate whether primary keys are generated by the query.

#### Channel
Channel to consume messages from.

<i>Required</i>


Advice can be added to change the behaviour of this endpoint, for example to add retry logic in case of failures. The following types of advice are available:

<b>Retry advice</b>: allows configuration of sophisticated retry scenarios; this includes specifying policies for retry attemps, backoff periods between attempts and the recovery strategy when retries are exhausted
<b>Circuit breaker</b>: if a certain number of consecutive attempts fails, new requests will <i>fail fast</i> and no attempt will be made to invoke the request handler again until some time has expired
<b>Expression evaluating advice</b>: general advice that evaluates a configurable <i>SpEL expression</i> on successful and/or failed attempts, and optionally can send a message to a <i>success channel</i> and/or <i>failure channel</i>

By adding multiple advices to this endpoint you can create even more complex combined behaviour. For example, if you add a <i>circuit breaker</i> and a <i>retry advice</i>, you can create a scenario where the circuit breaker only opens when all retries are exhaused. Note that the order of the advice types is important, as switching the order will change the combined behaviour: the first item in the list will be the top of the advice chain, meaning it will be the last advice that is evaluated. Also note that if any advice "traps" exceptions, all advices higher up in the chain won't know about any failures.

#### Id
Name that uniquely identifies this flow component.

<i>Required</i>

